## 516 ##
整理关于环境部署方面的知识

## nginx ##

 
- 轻量级，采用c编写，同样的web服务，会占用更少的内存及环境
- 抗并发，处理请求是异步非阻塞的，负载能力比apache要高很多，但是apache则是阻塞型的。在高并发下nginx能保持弟子员低消耗高性能，而apache在PHP处理慢或者前端压力很大的情况下，很容易出现进程数飙升，从而拒绝服务的现象
- nginx处理静态文件好，静态处理能力比apache高三倍以上
- nginx的设计高度模块化，编写模块相对简单
- nignx配置简洁，正则配置让很多事情变得简单，而且改完配置能是哦那个，-t测试配置有没有问题。apache配置复杂，重启的时候发现配置出错了，会很难受
- nignx作为负载均衡服务器，支持7层负载均衡
- nginx本身就是一个反向代理服务器，而且可以作为非常优秀的邮件代理服务器

## apache ##
- apache的rewrite比ngninx强大，在rewrit频繁的情况下，用apache
- apache发展到现在，模块超多，基本想到的都可以找到
- apache更为成熟，少bug，nginx的bug相对比较多
- apache超稳定
- apache对PHP支持比较简单，nignx需要配合其他后端用
- apache在处理动态请求有优势，nginx在这方面是鸡肋，一般动态请求要apache去做，nginx适合静态和反向
- apache仍然是目前的主流，拥有丰富的特性，成熟的技术和开发社区


## 总结apache和nginx ##
两者最核心的区别在于apache是同步多进程模型，一个连接对应一个进程，而nginx是异步的，多个连接（万级别）可以对应一个进程。

一般来说，需要性能的web服务，用nginx。如果不需要性能只求稳定，更考虑apache，后者的各种功能模块实现得比前者，例如ssl的模块就要比前者好，可配置项多。

更为通用的方案是，前端nginx抗并发，后端apache集群，配合起来会更好。

# http协议 #
## 简介： ##

- http协议是超文本传输协议（Hyper Text Transfer Protocol）的缩写，是从万维网服务器传输超文本到本地浏览器的传送协议。
- Http是一个基于tcp/ip通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。
- HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。
- HTTP协议工作于客户端-服务端架构为上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器根据接收到的请求后，向客户端发送响应信息。

# TCP #
1. 三次握手，四次挥手
2. 慢，效率低
3. 可靠性高

# Udp#
1. 快
2. 一次握手，一次挥手
3. 对可靠性不高的可以用，例如：长视频，要求速率