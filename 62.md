# 6月2 #
## es的倒排索引 ##

https://blog.csdn.net/jiaojiao521765146514/article/details/83750548


elasticsearch引擎把文档数据写入倒排索引的数据结构中，倒排索引建立的是分词和文档之间的映射关系，再倒排索引中，数据是面向词而面向文档的。

一个倒排索引由文档中所有不重复的列表构成，对于其中每个词，有一个包含他的文档列表。

	倒排索引的组成
	1. 单词词典（b+树）
	2. 倒排列表

![](https://i.imgur.com/T3btB3c.png)


倒排索引主要记录了单词对于的文档集合，有倒排索引项组成

倒排索引主要包含如下信息：
1. 文档id用于获取原始信息
2. 单词频率，记录该单词再该文档中出现的次数，用于后续相关性算分
3. 位置，记录单词再文档中的分词位置（多个），用于做词语搜索
4. 偏移，记录单词再文档的开始和结束的位置，用于高亮显示



